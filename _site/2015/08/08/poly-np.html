<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Poly NP</title>
  <meta name="description" content="content warning: polyamory, NP-complete problems">


  <link rel="stylesheet" href="/stylesheets/styles.css">
  <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <link rel="canonical" href="http://danielfilan.com//2015/08/08/poly-np.html">
  <link rel="alternate" type="application/rss+xml" title="Daniel Filan" href="http://danielfilan.com//feed.xml">
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$$', '$$'] ],
        displayMath: [ ['$^$', '$^$']],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      messageStyle: "none",
      "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
    });
  </script>
  <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>


  <body>

    

    <div class="wrapper">
  <header>
  <h1><a href="/">Daniel Filan</a></h1>
  <img src="https://scontent-sjc2-1.xx.fbcdn.net/v/t1.0-9/11659278_10202944584654914_2762452412152680044_n.jpg?oh=f017f593bd04d84d5de68bb00a736ddf&oe=58486651"/>
  <ul>
    <li><a href="/pdfs/cv.pdf">CV</a></li>
    <li><a href="mailto:df@danielfilan.com">email</a></li>
    <li><a href="/daniel_filan_public_key.asc">PGP public key</li>
    <li><a href="https://github.com/dfilan">github</a></li>
    <li><a href="/posts">blog</a></li>
  </ul>
</header>


  <section>
    <h2>Poly NP</h2>
    <p>content warning: polyamory, NP-complete problems</p>

<blockquote>
  <p>“It’s a shame that Facebook doesn’t let people list multiple romantic partners. Get with the times, Facebook.”
- Amanda MacAskill</p>
</blockquote>

<p>I think Amanda’s right: this limitation turns out to generate some pretty complicated algorithmic problems, and they’re an unwelcome addition to my dating life.</p>

<p>Suppose you’re in a polycule (that is, a connected component of the relationship graph) and you want to represent your relationships on Facebook. Obviously, you can’t represent them all: every person in the polycule can only be in a single relationship.</p>

<p>Which relationships should you show on Facebook? Well, presumably you want to show the most important ones. Let’s just say that we’re measuring importance by the length of the relationship. So the question becomes: How do you decide a subset of relationships of a polycule, such that no-one is in more than one of those relationships, and the sum of lengths of relationships is maximized? Or equivalently: given a connected, weighted, undirected graph, choose a subset of edges with no shared nodes to maximize the sum of weights of edges.</p>

<p>This at first looked to me like the <a href="https://en.wikipedia.org/wiki/Set_packing">weighted set packing problem</a>, one of Karp’s original NP-complete problems—each edge in the polycule corresponding to a two-element set in the set packing problem.</p>

<p>But then I looked into it more, and it turns out that for the specific case of relationships between only two people (sorry, triad participants), this problem is known as weighted maximum matching, and there’s a fast algorithm for it! You can read about the fast algorithm in <a href="http://pub.ist.ac.at/~vnk/papers/BLOSSOM5.html">this paper</a>, and you can download the implementation <a href="http://pub.ist.ac.at/~vnk/software.html#BLOSSOM5">here</a>. It says it’s licensed for research only: I’m not sure whether that license permits usage for personal romantic relationships, but I think the likelihood of getting in trouble for it is pretty low.</p>

<hr />

<p><a href="https://www.facebook.com/bshlgrs/posts/10206413578553021">view comments on Facebook</a></p>

  </section>
</div>



  </body>

<script>
if (window.location.hostname == "dfilan.github.io") {
  window.location.hostname = "shlegeris.com";
}
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52980069-1', 'auto');
  ga('send', 'pageview');

</script>



</html>

